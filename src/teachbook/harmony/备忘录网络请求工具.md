---
title: 备忘录网络请求工具-axios
icon: iconfont icon-a-outline-harmony-one
author: 周子力
order: 20
category:
  - 教学文档
tag:
  - HarmonyOS
  - TypeScript
---

## 备忘录网络请求工具-axios

```typescript

import axios,{
  InternalAxiosRequestConfig,
  AxiosError,
  AxiosResponse
} from "@ohos/axios"

import { MemoParams, Task } from "../model/TaskModel";


const service=axios.create({
  // baseURL:"http://localhost:5000/api",
  // headers:{'Content-Type': 'application/json'},
  baseURL:"http://10.31.25.81:5000/api",
  timeout:3000
})

// 添加请求拦截器
service.interceptors.request.use((config:InternalAxiosRequestConfig) => {
  // 对请求数据做点什么
  return config;
}, (error:AxiosError) => {
  // 对请求错误做些什么
  return Promise.reject(error);
});


// 添加响应拦截器
service.interceptors.response.use((response:AxiosResponse)=> {
  // 对响应数据做点什么
  return response;
}, (error:AxiosError)=> {
  // 对响应错误做点什么
  return Promise.reject(error);
});


export async function getallmemos(){

   return await service({
     url:"/tasks",
     method:"get",
  })
}

export async function addMemo(params:Task){

  return await service({
      url:"/tasks",
      method:"post",
      data: params
  })

}

export async function delMemo(task_id:MemoParams){

  return await service({
    url:"/tasks",
    method:"delete",
    params: task_id
  })

}

export async function toggleMemo(task_id:MemoParams){

  return await service({
    url:"/tasks/toggle",
    method:"put",
    params: task_id
  })

}

export async function updateMemo(task_id:string,data:MemoParams){

  return await service({
    url:"/tasks",
    method:"put",
    params:{task_id:task_id},
    data: data,
  })

}



```

