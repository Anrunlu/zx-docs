---
title: å¤‡å¿˜å½•åå°æ¥å£è¯´æ˜
icon: iconfont icon-a-outline-harmony-one
author: å‘¨å­åŠ›
order: 20
category:
  - æ•™å­¦æ–‡æ¡£
tag:
  - HarmonyOS
  - TypeScript
---


## BaseURL
ç›®å‰åªèƒ½é€šè¿‡æ ¡å›­ç½‘è®¿é—®ï¼Œå¤–ç½‘æ— æ³•è®¿é—®ã€‚

http://10.31.25.81:5000/api

---

# ğŸ“‹ ä»»åŠ¡ç®¡ç† API æ¥å£æ–‡æ¡£

> **Base URL**: `/tasks`ï¼ˆæ‰€æœ‰æ¥å£è·¯å¾„å‡åŸºäºæ­¤ï¼‰

æ‰€æœ‰æ¥å£è¿”å›ç»Ÿä¸€æ ¼å¼çš„ JSON å“åº”ï¼š

```json
{
  "success": true|false,
  "data": { ... },        // æˆåŠŸæ—¶è¿”å›æ•°æ®ï¼ˆéƒ¨åˆ†æ¥å£æ—  dataï¼‰
  "message": "æè¿°ä¿¡æ¯"
}
```

---

## 1. è·å–æ‰€æœ‰ä»»åŠ¡ï¼ˆæ”¯æŒæœç´¢ï¼‰

- **URL**: `GET /tasks`
- **æŸ¥è¯¢å‚æ•°ï¼ˆå¯é€‰ï¼‰**:
  - `title` (string): æŒ‰æ ‡é¢˜æ¨¡ç³Šæœç´¢ä»»åŠ¡
- **ç¤ºä¾‹**:
  ```http
  GET /tasks?title=homework
  ```
- **æˆåŠŸå“åº” (200)**:
  ```json
  {
    "success": true,
    "data": [
      { "id": "1", "title": "homework", "completed": false, "created_at": "2024-06-01T10:00:00" },
      ...
    ],
    "message": "Tasks retrieved successfully"
  }
  ```

---

## 2. æ ¹æ® ID è·å–å•ä¸ªä»»åŠ¡

- **URL**: `GET /tasks`
- **æŸ¥è¯¢å‚æ•°ï¼ˆå¿…éœ€ï¼‰**:
  - `task_id` (string): ä»»åŠ¡å”¯ä¸€ ID
- **ç¤ºä¾‹**:
  ```http
  GET /tasks?task_id=123
  ```
- **æˆåŠŸå“åº” (200)**:
  ```json
  {
    "success": true,
    "data": { "id": "123", "title": "Buy milk", "completed": false, ... },
    "message": "Task retrieved successfully"
  }
  ```
- **é”™è¯¯æƒ…å†µ**:
  - `400`: ç¼ºå°‘ `task_id`
  - `404`: ä»»åŠ¡ä¸å­˜åœ¨

---

## 3. åˆ›å»ºæ–°ä»»åŠ¡

- **URL**: `POST /tasks`
- **è¯·æ±‚å¤´**:
  - `Content-Type: application/json`
- **è¯·æ±‚ä½“ï¼ˆJSONï¼‰**:
  ```json
  {
    "title": "New task",          // å¿…éœ€
    "description": "Optional",    // å¯é€‰
    "completed": false            // å¯é€‰ï¼Œé»˜è®¤ false
  }
  ```
- **ç¤ºä¾‹**:
  ```js
  axios.post('/tasks', { title: 'Read book' })
  ```
- **æˆåŠŸå“åº” (201)**:
  ```json
  {
    "success": true,
    "data": { "id": "456", "title": "Read book", "completed": false, ... },
    "message": "Task created successfully"
  }
  ```
- **é”™è¯¯æƒ…å†µ**:
  - `400`: ç¼ºå°‘ `title`

---

## 4. æ›´æ–°ä»»åŠ¡

- **URL**: `PUT /tasks`
- **æŸ¥è¯¢å‚æ•°ï¼ˆå¿…éœ€ï¼‰**:
  - `task_id` (string): è¦æ›´æ–°çš„ä»»åŠ¡ ID
- **è¯·æ±‚ä½“ï¼ˆJSONï¼‰**:
  ```json
  {
    "title": "Updated title",
    "completed": true
  }
  ```
- **ç¤ºä¾‹**:
  ```http
  PUT /tasks?task_id=123
  ```
  ```json
  { "title": "Finish report", "completed": true }
  ```
- **æˆåŠŸå“åº” (200)**:
  ```json
  {
    "success": true,
    "data": { "id": "123", "title": "Finish report", "completed": true, ... },
    "message": "Task updated successfully"
  }
  ```
- **é”™è¯¯æƒ…å†µ**:
  - `400`: ç¼ºå°‘ `task_id` æˆ–è¯·æ±‚ä½“ä¸ºç©º
  - `404`: ä»»åŠ¡ä¸å­˜åœ¨

---

## 5. åˆ é™¤å•ä¸ªä»»åŠ¡

- **URL**: `DELETE /tasks`
- **æŸ¥è¯¢å‚æ•°ï¼ˆå¿…éœ€ï¼‰**:
  - `task_id` (string): è¦åˆ é™¤çš„ä»»åŠ¡ ID
- **ç¤ºä¾‹**:
  ```http
  DELETE /tasks?task_id=123
  ```
- **æˆåŠŸå“åº” (200)**:
  ```json
  {
    "success": true,
    "message": "Task deleted successfully"
  }
  ```
- **é”™è¯¯æƒ…å†µ**:
  - `400`: ç¼ºå°‘ `task_id`
  - `404`: ä»»åŠ¡ä¸å­˜åœ¨

---

## 6. åˆ‡æ¢å•ä¸ªä»»åŠ¡å®ŒæˆçŠ¶æ€

- **URL**: `PUT /tasks/toggle`
- **æŸ¥è¯¢å‚æ•°ï¼ˆå¿…éœ€ï¼‰**:
  - `task_id` (string): ä»»åŠ¡ ID
- **ç¤ºä¾‹**:
  ```http
  PUT /tasks/toggle?task_id=123
  ```
- **è¡Œä¸º**: å°† `completed` å­—æ®µå–åï¼ˆtrue â†” falseï¼‰
- **æˆåŠŸå“åº” (200)**:
  ```json
  {
    "success": true,
    "data": { "id": "123", "title": "...", "completed": true, ... },
    "message": "Task status toggled successfully"
  }
  ```
- **é”™è¯¯æƒ…å†µ**:
  - `400`: ç¼ºå°‘ `task_id`
  - `404`: ä»»åŠ¡ä¸å­˜åœ¨

---

## 7. æ‰¹é‡åˆ é™¤ä»»åŠ¡

- **URL**: `DELETE /tasks/batch/delete`
- **è¯·æ±‚å¤´**:
  - `Content-Type: application/json`
- **è¯·æ±‚ä½“ï¼ˆJSONï¼‰**:
  ```json
  {
    "taskIds": ["1", "2", "3"]   // å¿…éœ€ï¼ŒID æ•°ç»„
  }
  ```
- **ç¤ºä¾‹**:
  ```js
  axios.delete('/tasks/batch/delete', {  { taskIds: ['1','2'] } })
  ```
- **æˆåŠŸå“åº” (200)**:
  ```json
  {
    "success": true,
    "data": {
      "deletedCount": 2,
      "requestedCount": 2
    },
    "message": "2 tasks deleted successfully"
  }
  ```
- **é”™è¯¯æƒ…å†µ**:
  - `400`: `taskIds` ä¸ºç©ºæˆ–ç¼ºå¤±

---

## 8. æ‰¹é‡åˆ‡æ¢ä»»åŠ¡å®ŒæˆçŠ¶æ€

- **URL**: `PUT /tasks/batch/toggle`
- **è¯·æ±‚å¤´**:
  - `Content-Type: application/json`
- **è¯·æ±‚ä½“ï¼ˆJSONï¼‰**:
  ```json
  {
    "taskIds": ["1", "2"],       // å¿…éœ€
    "completed": true            // å¯é€‰ï¼štrue/false è¡¨ç¤ºè®¾ä¸ºå®Œæˆ/æœªå®Œæˆï¼›è‹¥çœç•¥ï¼Œåˆ™åˆ‡æ¢æ¯ä¸ªä»»åŠ¡çš„å½“å‰çŠ¶æ€
  }
  ```
- **ç¤ºä¾‹ï¼ˆåˆ‡æ¢çŠ¶æ€ï¼‰**:
  ```json
  { "taskIds": ["1", "2"] }
  ```
- **ç¤ºä¾‹ï¼ˆç»Ÿä¸€è®¾ä¸ºå®Œæˆï¼‰**:
  ```json
  { "taskIds": ["1", "2"], "completed": true }
  ```
- **æˆåŠŸå“åº” (200)**:
  ```json
  {
    "success": true,
    "data": {
      "updatedCount": 2,
      "requestedCount": 2,
      "action": "toggled"  // æˆ– "set to completed" / "set to not completed"
    },
    "message": "2 tasks toggled successfully"
  }
  ```
- **é”™è¯¯æƒ…å†µ**:
  - `400`: `taskIds` ä¸ºç©ºæˆ–ç¼ºå¤±

---

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **`task_id` ä¼ é€’æ–¹å¼**ï¼š  
   å•ä¸ªæ“ä½œï¼ˆGET/PUT/DELETE/toggleï¼‰å‡é€šè¿‡ **æŸ¥è¯¢å‚æ•°**ï¼ˆ`?task_id=xxx`ï¼‰ä¼ é€’ IDï¼Œ**ä¸æ˜¯è·¯å¾„å‚æ•°**ï¼ˆå¦‚ `/tasks/123`ï¼‰ã€‚

2. **æ‰¹é‡æ“ä½œ**ï¼š  
   ä½¿ç”¨ **JSON è¯·æ±‚ä½“** ä¼ é€’ `taskIds` æ•°ç»„ã€‚

3. **é”™è¯¯å¤„ç†**ï¼š  
   æ‰€æœ‰æ¥å£å‡æ•è·å¼‚å¸¸å¹¶è¿”å› `500` é”™è¯¯ï¼Œå‰ç«¯åº”æ£€æŸ¥ `success` å­—æ®µã€‚

4. **ID ç±»å‹**ï¼š  
   å‡è®¾ `task_id` ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼ˆå¦‚ UUID æˆ–å­—ç¬¦ä¸² IDï¼‰ï¼Œè‹¥ä½¿ç”¨æ•°å­— IDï¼Œå‰ç«¯ä»éœ€ä¼ å­—ç¬¦ä¸²ï¼ˆå›  `request.args.get()` è¿”å›å­—ç¬¦ä¸²ï¼‰ã€‚

---

âœ… æ­¤æ–‡æ¡£å¯ç›´æ¥ç”¨äºå›¢é˜Ÿåä½œã€å‰ç«¯è°ƒç”¨æˆ– Postman æµ‹è¯•ã€‚