---

title: 第5次课 
icon: iconfont icon-a-outline-harmony-one  
author: 周子力  
order: 4  
category:
    -   教学文档  
tag:
    -   HarmonyOS

---

## 备忘录设计

### 1.UI界面

![picture 0](https://oss.docs.z-xin.net/4540f325275380c21ae5f09a605e011b44484e9bfd1dede41cf48ac8de63bf1f.png)  

![picture 1](https://oss.docs.z-xin.net/d0e8aa1c563dffa426b135af1c2a122ce4ff422c2e568f64607778928f487723.png)  

![picture 2](https://oss.docs.z-xin.net/b3f4d6a2f152bb101f1ca9ae0e8e91035544a4f28e4b02ebca8f7ca61ba651ff.png)  

![picture 3](https://oss.docs.z-xin.net/5c62172a79ab181d860ca77e6d7b361a6499d34eaa54aea4009e5f10aae94681.png)  


### 2.代码结构

![picture 4](https://oss.docs.z-xin.net/27f568376d251791889fded16d20e67892a0174319ca845dd5d4b2d7d7895f99.png)  


代码云效： https://codeup.aliyun.com/688724e5efefeec54ed56ac5/harmony/notes.git

可以用git clone 拉取代码, 例：
```
git clone https://codeup.aliyun.com/688724e5efefeec54ed56ac5/harmony/notes.git
```

### 2.网络数据获取代码
````ts
import axios,{
  InternalAxiosRequestConfig,
  AxiosError,
  AxiosResponse
} from "@ohos/axios"

import { MemoParams, Task } from "../model/TaskModel";


const service=axios.create({
  // baseURL:"http://localhost:5000/api",
  // headers:{'Content-Type': 'application/json'},
  baseURL:"http://10.31.25.81:5000/api",
  timeout:3000
})

// 添加请求拦截器
service.interceptors.request.use((config:InternalAxiosRequestConfig) => {
  // 对请求数据做点什么
  return config;
}, (error:AxiosError) => {
  // 对请求错误做些什么
  return Promise.reject(error);
});


// 添加响应拦截器
service.interceptors.response.use((response:AxiosResponse)=> {
  // 对响应数据做点什么
  return response;
}, (error:AxiosError)=> {
  // 对响应错误做点什么
  return Promise.reject(error);
});


export async function getallmemos(){

   return await service({
     url:"/tasks",
     method:"get",
  })
}

export async function addMemo(params:Task){

  return await service({
      url:"/tasks",
      method:"post",
      data: params
  })

}

export async function delMemo(task_id:MemoParams){

  return await service({
    url:"/tasks",
    method:"delete",
    params: task_id
  })

}

export async function toggleMemo(task_id:MemoParams){

  return await service({
    url:"/tasks/toggle",
    method:"put",
    params: task_id
  })

}

export async function updateMemo(task_id:string,data:MemoParams){

  return await service({
    url:"/tasks",
    method:"put",
    params:{task_id:task_id},
    data: data,
  })

}

```