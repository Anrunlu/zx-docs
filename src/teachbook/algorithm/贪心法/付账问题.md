---
title: 付账问题
icon: fas fa-beer
author: 陈昕妍
order: 1
category:
  - 教学文档
tag:
  - 
---

# 付账问题
## 1. 题目描述
几个人一起出去吃饭是常有的事。但在结帐的时候，常常会出现一些争执。
现在有 n 个人出去吃饭，他们总共消费了 S 元。其中第 i 个人带了 ai元。幸运的是，所有人带的钱的总数是足够付账的，但现在问题来了：每个人分别要出多少钱呢？
为了公平起见，我们希望在总付钱量恰好为 S的前提下，最后每个人付的钱的标准差最小。这里我们约定，每个人支付的钱数可以是任意非负实数，即可以不是 1 分钱的整数倍。你需要输出最小的标准差是多少。

输入：
5 2333
666 666 666 666 666
输出：
0.0000

## 2. 分析
用贪心算法解决这个问题，确保每个人支付的金额尽可能接近均值，从而使得标准差最小。

算法步骤：
1.计算理想支付金额：理想支付金额是 u = s/n。
2.分配支付金额：从带钱最少的人开始，尽量给他们分配理想金额，确保支付的总金额为 S。用一个数组 payments 来存储每个人的支付金额，初始时每个人的支付金额是理想支付金额。
3.标准差计算：通过计算支付金额与均值的差异，最终计算标准差。
4.输出：返回四舍五入到小数点后四位的标准差。

复杂度分析：
计算理想支付金额是常数操作；
计算总支付金额、支付金额数组、和标准差的操作都是线性时间复杂度，因此整体算法的时间复杂度是 O(n)。

## 3. 代码

```Python
import math

def min_std_dev(n, S, a):
    # 计算每个人的理想支付金额
    ideal_payment = S / n
    
    # 每个人应该支付的金额，初始化为理想支付金额
    payments = [ideal_payment] * n
    
    # 总支付金额的初始值
    total_payment = sum(payments)
    
    # 当前差额
    diff = S - total_payment
    
    # 贪心分配差额
    # 我们依然希望分配给每个人的钱尽量接近理想金额
    for i in range(n):
        # 由于每个人的金额可以是实数，我们可以直接调整，使得总额为S
        payments[i] += diff / n

    # 计算标准差
    mean_payment = sum(payments) / n
    variance = sum((p - mean_payment) ** 2 for p in payments) / n
    std_dev = math.sqrt(variance)
    
    return f"{std_dev:.4f}"

# 输入部分
n, S = map(int, input().split())
a = list(map(int, input().split()))

# 输出结果
print(min_std_dev(n, S, a))


```