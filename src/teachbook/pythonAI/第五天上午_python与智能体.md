---
title: 第5天上午_Python与智能体
author: 周子力
icon: iconfont icon-a-outline-harmony-one
tag: [Python基础]
category: 教学文档
order: 8
---


# 《Python 与扣子（Coze）智能体融合开发》实训培训方案

**培训时间：** 08:00 - 12:00（上午），14:00 - 18:00（下午）  
**适用对象：** 具备 Python 基础语法知识，希望了解 AI Agent 应用开发的专业学生  
**实训案例主题：** 智能医疗预诊助手（Smart Medical Triage Assistant）  
**培训目标：**
1.  理解 AI 智能体（Agent）的基本概念与架构。
2.  掌握在扣子（Coze）平台上创建、配置及发布"智能医疗预诊助手"的能力。
3.  掌握通过 Python 代码调用 Coze 智能体 API 的方法。
4.  能够完成一个"Python 读取健康问卷 -> 调用智能体预诊 -> 生成健康建议报告"的联动项目。

> ⚠️ **重要声明：** 本实训案例中的医疗智能体仅用于教学演示，输出内容仅供参考，不能替代专业医疗诊断。实际应用中需严格遵守医疗法规，获得相关资质授权。

---

## 一、培训前准备

1.  **环境要求：**
    *   学生自带笔记本电脑，预装 Python 3.8+ 环境。
    *   安装 IDE（推荐 VS Code 或 PyCharm）。
    *   安装必要库：`requests`, `python-dotenv`, `json`, `csv`。
    *   网络环境：确保能访问扣子官网（www.coze.cn）。
2.  **账号准备：**
    *   所有学生需提前注册好扣子（Coze）账号。
    *   讲师提前准备好示例代码库、API 文档链接以及一份模拟的 `health_survey.csv` 文件。
3.  **资料分发：**
    *   《Coze 平台操作手册.pdf》
    *   《Python 调用 API 示例代码.zip》
    *   《实训任务书.docx》
    *   `模拟健康问卷.csv`（包含姓名、年龄、症状描述、持续时间等字段）
    *   《医疗 AI 应用伦理与合规指南.pdf》

---

## 二、详细日程安排

### 上午：构建智能体（Coze 平台实战）
**目标：** 完成"智能医疗预诊助手"智能体的创建、调试与 API 发布。

**08:00 - 08:30 课程导入与概念解析**
*   **详细内容：**
    1.  培训目标与日程介绍，明确今日产出为"智能健康预诊系统"。
    2.  讲解什么是 AI Agent（感知、规划、行动三大核心能力）。
    3.  介绍为什么选择 Coze 平台（低代码门槛、医学插件丰富、API 接口友好）。
    4.  展示最终效果：Python 脚本批量读取用户症状，智能体给出预诊建议，生成结构化健康报告。
    5.  **伦理强调：** 明确智能体的辅助定位，必须包含免责声明。
*   **教学形式：** 讲授 + 效果演示

**08:30 - 09:30 Coze 平台初探与创建智能体**
*   **详细内容：**
    1.  平台界面功能详解（首页、开发台、商店、工作室）。
    2.  **实操环节：** 创建 Bot，命名为"智能医疗预诊助手"。
    3.  人设与回复逻辑编写（Prompt 工程基础技巧）：
        *   设定角色为"具备医学知识的健康顾问"
        *   要求输出结构化建议（症状分析、可能方向、就医建议、日常护理）
        *   强制添加免责声明
    4.  添加基础插件：添加"医学知识库"、"药品信息查询"等插件，增强专业可靠性。
*   **教学形式：** 讲师演示 + 学生跟练

**09:30 - 09:45 课间休息**
*   休息、答疑、调整设备。

**09:45 - 10:45 进阶能力：工作流与调试**
*   **详细内容：**
    1.  讲解什么是工作流（Workflow）及其在复杂问诊流程中的作用。
    2.  **实操环节：** 设计简单问诊工作流：接收症状 -> 追问关键信息（如持续时间、疼痛等级）-> 综合判断 -> 输出建议。
    3.  调试与预览技巧：在平台预览窗口输入模拟症状（如"头痛、发热、咳嗽3天"），测试回复的专业性和安全性。
    4.  强制输出格式训练：调整 Prompt，确保智能体返回稳定的 JSON 数据，便于 Python 解析和报告生成。
*   **教学形式：** 演示 + 任务驱动

**10:45 - 11:30 发布与 API 配置**
*   **详细内容：**
    1.  讲解如何将 Bot 发布为 API 服务。
    2.  **关键步骤：** 在个人设置中获取 Personal Access Token (PAT)。
    3.  获取 Bot ID 和理解 Conversation ID 机制。
    4.  使用 Postman 或 curl 命令测试 API 连通性，发送一条症状描述，确保能收到结构化预诊建议。
*   **教学形式：** 实操 + 逐个检查

**11:30 - 12:00 上午总结与答疑**
*   **详细内容：**
    1.  检查每位学生的"医疗预诊助手"是否发布成功，API 是否可用。
    2.  确认 PAT 和 Bot ID 已安全保存。
    3.  布置下午任务预告：下午将编写 Python 脚本批量处理健康问卷数据。
*   **教学形式：** 检查 + 答疑

---

### 1. 智能体配置详情（上午任务）
*   **名称：** 智能医疗预诊助手
*   **人设 Prompt 示例：**
    ```text
    你是一名具备医学知识的健康顾问助手。用户会描述自己的症状，请你提供专业、谨慎的预诊建议。

    【核心原则】
    1. 你提供的建议仅供参考，不能替代执业医师的面对面诊断。
    2. 对于急重症症状（如胸痛、呼吸困难、意识模糊等），必须优先建议立即就医。
    3. 避免给出绝对化的诊断结论，使用"可能"、"建议排查"等谨慎表述。
    4. 每次回复末尾必须添加免责声明。

    【回复格式】请严格以 JSON 格式返回，不要包含任何 Markdown 标记：
    {
      "symptom_analysis": "对用户描述的症状进行专业分析",
      "possible_conditions": ["可能方向1", "可能方向2"],
      "suggestion": {
        "medical_advice": "就医建议（科室/紧急程度）",
        "self_care": "日常护理建议",
        "warning_signs": "需要警惕的危险信号"
      },
      "disclaimer": "本建议仅供参考，不能替代专业医疗诊断。如有不适，请及时就医。"
    }
    ```
*   **插件配置：** 
    *   启用"医学知识库"插件，提供权威医学参考
    *   启用"药品信息查询"插件，辅助用药建议（仅参考）
    *   可选：添加"附近医院导航"插件
*   **发布设置：** 发布为 API 服务，确保外部 Python 脚本可调用。


### 2. 上午重点：Coze 智能体构建
*   **Prompt 工程：** 重点教学生如何通过"结构化输出 + 安全约束"来构建负责任的医疗 AI。强调：
    *   必须包含免责声明
    *   避免绝对化诊断表述
    *   对急重症症状设置优先就医逻辑
*   **插件选择：** 重点演示如何添加"医学知识库"类插件，确保智能体的医学建议有权威依据，减少"幻觉"风险。
*   **API 发布：** 这是下午能跑通代码的关键。
    *   路径：进入 Bot -> 发布 -> 勾选"API" -> 提交。
    *   凭证：在个人设置中生成 PAT 码，强调**不可泄露**。


## 五、讲师注意事项（Tips）

1.  **网络问题预案：** Coze 平台偶尔可能访问波动，需提前下载好离线文档或截图，若 API 调用失败，准备本地 Mock 数据方案作为备选。
2.  **Token 安全：** 反复强调 PAT Token 等同于密码，严禁上传到 GitHub 等公共仓库。
3.  **医疗伦理强调：** 在每个环节反复强调智能体的"辅助定位"，避免学生产生"AI 可以替代医生"的误解。
4.  **难度控制：** 下午的 Python 部分，对于基础较弱的学生，提供"填空式"代码（即写好框架，让学生填写关键参数和逻辑），保证所有人都能跟上进度。
5.  **时间管理：** 上午构建 Bot 环节容易因为纠结 Prompt 而超时，讲师需严格控制时间，告诉学生 Prompt 可以后续迭代，先跑通流程最重要。
6.  **互动激励：** 设置"最佳专业智能体奖"和"最佳代码实现奖"，在下午结课时给予小礼品激励，提高参与度。
7.  **案例一致性：** 确保上午教的 Bot 配置完全匹配下午代码所需的输入输出格式（特别是 JSON 格式），避免下午调试时因格式问题卡壳。
8.  **数据安全提醒：** 强调健康数据属于敏感个人信息，实训中使用的均为模拟数据，实际应用中需遵守《个人信息保护法》等相关法规。

---

## 六、课后延伸作业

1.  尝试在 Coze 中为智能体添加"多轮问诊"工作流，实现症状追问功能。
2.  将 Python 脚本封装为简单的 Web 界面（使用 Streamlit 或 Flask），模拟在线预诊场景。
3.  探索 Coze 的知识库功能，尝试上传权威医学指南文档，提升智能体建议的准确性。
4.  （进阶）研究如何在输出中添加"置信度"字段，帮助使用者判断建议的参考程度。

---

## 八、附录：医疗 AI 应用伦理要点（供讲师参考）

在培训过程中，请向学生传达以下核心伦理原则：

1.  **辅助定位原则：** AI 智能体是医疗服务的辅助工具，不能替代执业医师的诊断和治疗决策。
2.  **安全第一原则：** 对于可能涉及急重症的症状，必须设置"优先建议就医"的硬性逻辑。
3.  **透明告知原则：** 所有输出必须清晰标注"本建议由 AI 生成，仅供参考"，避免用户误解。
4.  **隐私保护原则：** 健康数据属于敏感个人信息，处理时需脱敏、加密，遵守相关法律法规。
5.  **持续监督原则：** AI 建议需由专业人员进行定期审核和优化，确保内容科学可靠。

---

**备注：** 本方案可根据学生实际 Python 基础水平，适当调整下午代码编写的深度。如果学生基础较好，可增加"流式响应（Stream）"的处理教学，实现打字机效果的实时预诊展示；或增加"多模态输入"（如图片症状描述）的拓展内容。