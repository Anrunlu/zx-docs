---
title: 第8天下午_综合项目实训
author: 周子力
icon: iconfont icon-a-outline-harmony-one
tag: [Python基础]
category: 教学文档
order: 15
---

# 第二天下午培训详解：数据库与个性化存储
## 🎯 培训主题：让校园百事通"记住你、懂你、帮你"——个性化学习管家

---

## 📅 14:00-15:30｜数据库（Table）概念与创建

### 🔹 学习目标
- 理解Coze数据库（Table）与知识库的核心差异
- 掌握用户个性化数据的存储设计原则
- 完成"个人学习进度"数据表的创建与字段配置
- 理解"用户隔离"与"数据权限"的安全机制

### 🔹 数据库 vs 知识库：核心差异解析

#### 📊 三种数据存储类型对比
| 维度 | 文本知识库 | 表格知识库 | 数据库（Table） |
|------|-----------|-----------|----------------|
| **数据归属** | 公共知识（全校通用） | 公共数据（奖学金名录） | **个人数据**（用户专属） |
| **更新频率** | 学期/年度更新 | 学期/政策变动更新 | **实时/高频更新**（每日任务） |
| **访问权限** | 所有用户可读 | 所有用户可读 | **用户隔离**（仅本人可读写） |
| **典型场景** | 校规查询、办事指南 | 奖学金对比、课表查询 | 任务提醒、学习记录、申请进度 |
| **技术本质** | 向量检索（语义匹配） | 结构化查询（字段筛选） | **CRUD操作**（增删改查） |

#### 🔧 Coze数据库技术原理
```
用户个性化数据存储流程：
用户对话 → 意图识别（"帮我记一下"）→ 提取关键信息 → 生成SQL操作 → 执行写入/查询 → 返回确认

核心组件：
┌─────────────────────────────────────┐
│ 1. 用户身份识别模块                  │
│    • 自动绑定：Coze账号/微信ID/学号  │
│    • 数据隔离：user_id作为隐式过滤条件│
│    • 示例：SELECT * FROM tasks WHERE user_id='U12345' │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│ 2. 自然语言→SQL转换引擎             │
│    • 意图分类：记录/查询/更新/删除   │
│    • 槽位填充：提取课程名/时间/状态  │
│    • 示例："记一下周三交高数作业"    │
│      → INSERT INTO tasks            │
│        (user_id, course, deadline, status) │
│        VALUES ('U12345', '高数', '2026-03-05', 'pending') │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│ 3. 智能提醒与聚合模块                │
│    • 时间触发：截止前24h自动提醒     │
│    • 状态聚合：统计"待完成/已完成"数量│
│    • 个性化推荐：基于历史数据建议    │
└─────────────────────────────────────┘
```

> 💡 **关键认知**：数据库（Table）是"用户的私人笔记本"，知识库是"学校的公共图书馆"。前者记住"你"，后者告诉"大家"[[13]][[21]]。

### 🔹 实操步骤：创建"个人学习进度"数据表

#### 步骤1️⃣：数据表设计（25分钟）
```
🎯 设计原则：
• 原子性：每个字段只存一类信息（如"截止日期"不混写"周三下午3点"）
• 可扩展：预留"备注""标签"字段应对未来需求
• 用户友好：字段名用中文，便于提示词引用

📋 推荐表结构：个人学习进度表（user_learning_progress）

┌────────────────┬─────────────┬──────────────┬─────────────────┐
│ 字段名         │ 数据类型    │ 必填 │ 说明与示例              │
├────────────────┼─────────────┼──────┼─────────────────┤
│ id             │ 自增主键    │ 系统 │ 唯一记录ID              │
│ user_id        │ 字符串      │ 系统 │ 用户标识（自动填充）    │
│ task_type      │ 枚举        │ ✅   │ [作业, 考试, 申请, 活动]│
│ title          │ 字符串      │ ✅   │ 任务标题："高数第三章作业"│
│ course         │ 字符串      │ ⚪   │ 关联课程："高等数学"    │
│ deadline       │ 日期时间    │ ⚪   │ 截止时间：2026-03-05 23:59│
│ priority       │ 枚举        │ ⚪   │ [高, 中, 低]            │
│ status         │ 枚举        │ ✅   │ [pending, done, overdue]│
│ progress       │ 百分比      │ ⚪   │ 完成度：0-100           │
│ reminder_set   │ 布尔        │ ⚪   │ 是否已设提醒：true/false│
│ tags           │ 列表        │ ⚪   │ 标签：["期末", "小组"]  │
│ notes          │ 长文本      │ ⚪   │ 备注："需打印+签字"     │
│ created_at     │ 时间戳      │ 系统 │ 创建时间                │
│ updated_at     │ 时间戳      │ 系统 │ 最后更新时间            │
└────────────────┴─────────────┴──────┴─────────────────┘

💡 字段设计技巧：
✅ 状态字段用英文枚举（pending/done）：便于程序判断
✅ 时间字段用标准格式（YYYY-MM-DD HH:mm）：支持时间计算
✅ 标签字段用列表：支持多标签筛选（如["紧急", "小组"]）

❌ 常见错误：
• 混合存储：用"备注"字段存截止时间 → 无法自动提醒
• 缺少状态：只记任务不记完成状态 → 无法统计进度
• 忽略用户隔离：未设置user_id → 数据泄露风险
```

#### 步骤2️⃣：在Coze中创建数据库（20分钟）
```
🎯 操作路径：
Coze平台 → 左侧导航"数据库" → 点击"创建数据表"

📋 配置详解：
┌─────────────────────────────────────┐
│ 基础信息：                          │
│ • 表名：user_learning_progress      │
│ • 描述：记录用户个人的学习任务、    │
│         申请进度、考试安排等        │
│ • 权限：☑ 仅创建者及授权用户可访问  │
│                                     │
│ 字段创建（可视化操作）：            │
│ 1. 点击"添加字段" → 选择数据类型    │
│ 2. 填写字段名、设置必填/默认值      │
│ 3. 对枚举类型：预定义选项列表       │
│                                     │
│ 高级设置：                          │
│ • 索引优化：为deadline/status建索引│
│   （加速"查待办""查逾期"查询）     │
│ • 自动字段：created_at/updated_at  │
│   勾选"自动填充当前时间"            │
│ • 用户隔离：确认user_id为隐式过滤  │
│   （无需手动添加WHERE条件）         │
└─────────────────────────────────────┘

✅ 创建后验证：
□ 在"数据预览"中确认表结构显示正常
□ 点击"测试插入"，模拟添加一条记录
□ 检查user_id是否自动填充（关键！）
```

#### 步骤3️⃣：关联智能体并配置权限（15分钟）
```
🔗 绑定操作：
1. 进入"智慧校园助手"编辑页
2. 找到"数据库"模块（通常在"知识库"下方）
3. 点击"关联数据表" → 选择"user_learning_progress"
4. 设置操作权限：☑ 读取 ☑ 写入 ☑ 更新

⚙️ 关键配置说明：
┌─────────────────────────────────────┐
│ 用户隔离机制（自动生效）：          │
│ • 无需在提示词中写WHERE user_id=...│
│ • Coze自动将当前用户ID注入所有查询  │
│ • 确保A用户无法看到B用户的任务      │
│                                     │
│ 操作权限控制：                      │
│ • 读取权限：允许AI查询用户数据      │
│ • 写入权限：允许AI添加新任务        │
│ • 更新权限：允许AI修改状态/进度     │
│ • 删除权限：谨慎开放，建议仅用户手动│
│                                     │
│ 数据保留策略：                      │
│ • 默认：永久保存（适合学习记录）    │
│ • 可选：自动归档（如完成超1年的任务）│
└─────────────────────────────────────┘

🧪 快速测试：
在预览窗口（需登录态）提问：
"帮我记一下：周五交英语作文，优先级高"
→ 预期：返回"已记录✅ 英语作文（周五截止，高优先级）"
→ 检查：数据库中是否新增一条pending状态记录
```

> 💡 **安全提示**：Coze数据库默认启用用户隔离，但需在提示词中明确"不跨用户分享数据"，避免AI在对话中无意泄露[[25]]。

---

## 📅 15:30-17:00｜数据库的读写操作

### 🔹 学习目标
- 掌握自然语言驱动数据库操作的提示词设计
- 实现"帮我记一下"（写入）和"我有哪些任务"（查询）核心功能
- 学会处理时间计算、状态更新、批量操作等进阶场景
- 理解"确认机制"与"防误操作"的交互设计

### 🔹 数据库操作提示词设计框架

#### 🎯 核心原则：意图识别 → 参数提取 → 操作执行 → 结果确认

```markdown
# 数据库操作提示词模板（个性化存储场景）

## 角色增强
你是一位贴心的个人学习管家，擅长帮用户记录任务、跟踪进度、智能提醒。所有数据仅对用户本人可见，严格保护隐私。

## 操作类型识别
当用户表达以下意图时，触发对应数据库操作：

### 📝 写入操作（INSERT）
触发词："帮我记一下"/"提醒我"/"我要做"
示例："记一下周三交高数作业"
→ 提取参数：
   • title: "高数作业"
   • course: "高等数学" 
   • deadline: "2026-03-05"（需解析"周三"）
   • priority: 默认"中"，用户说"紧急"则设为"高"
   • status: 默认"pending"
→ 执行：INSERT INTO user_learning_progress (...)
→ 确认："✅ 已记录：高数作业（3月5日截止，中优先级）"

### 🔍 查询操作（SELECT）
触发词："我有哪些"/"我的任务"/"查一下"
示例："我这周有什么作业？"
→ 提取参数：
   • time_range: "本周" → 计算日期范围
   • status_filter: 默认pending，用户说"已完成的"则过滤done
   • task_type: 用户提"作业"则过滤task_type='作业'
→ 执行：SELECT * WHERE deadline BETWEEN ... AND status='pending'
→ 格式化：按截止时间排序，分组展示

### ✏️ 更新操作（UPDATE）
触发词："改一下"/"完成了"/"延期到"
示例："高数作业做完了"
→ 提取参数：
   • target: 通过title/course模糊匹配记录
   • new_status: "done"
   • progress: 100（可选）
→ 执行：UPDATE ... SET status='done', progress=100 WHERE ...
→ 确认："🎉 恭喜！高数作业已标记为完成~"

### 🗑️ 删除操作（DELETE）【谨慎】
触发词："删除"/"不要了"/"取消"
→ 二次确认："确定要删除'英语作文'任务吗？此操作不可恢复"
→ 用户确认后才执行DELETE
```

### 🔹 进阶技巧实战

#### ✨ 技巧1：自然语言时间解析
```
🎯 场景：用户说"下周五""后天""3月10号"
❌ 低效：要求用户必须输入"2026-03-10"格式
✅ 高效：AI自动解析相对时间

🔧 提示词实现：
## 时间解析规则
支持以下表达自动转换：
• 相对时间："明天"→+1天, "下周三"→计算具体日期
• 模糊时间："下周"→默认周一, "月底"→当月最后一天
• 时间补充：用户只说"周五"→默认本周五，若已过则提示"是下周五吗？"

示例：
Q: "记一下后天交论文"
→ 解析：today=2026-02-21 → deadline=2026-02-23
→ 执行：INSERT ... deadline='2026-02-23'
→ 确认："✅ 已记录：论文（2月23日截止）"

💡 实现建议：
• 在提示词中预置日期计算逻辑
• 对模糊时间主动澄清，避免记录错误
```

#### ✨ 技巧2：智能去重与合并
```
🎯 场景：用户重复记录同一任务
Q1: "记一下周五交高数作业"
Q2: "提醒我周五高数作业要交"

❌ 低效：创建两条重复记录
✅ 高效：识别相似任务，提示合并

🔧 提示词增强：
## 防重复机制
当用户添加新任务时：
1️⃣ 先查询：SELECT * WHERE title LIKE '%高数%' AND deadline='2026-03-05'
2️⃣ 若发现相似记录：
   → 提示："发现已有'高数作业'（3月5日截止），是要更新这条记录吗？"
   → 提供选项：[✅ 更新现有记录] [➕ 添加新任务]
3️⃣ 用户确认后执行对应操作

💡 匹配规则：
• 标题相似度>80% + 截止时间相同 → 判定为重复
• 允许用户手动覆盖（如"这是不同版本的作业"）
```

#### ✨ 技巧3：状态联动与智能提醒
```
🎯 场景：任务状态变化触发关联操作
✅ 理想交互：
用户："高数作业做完了"
AI: 
  1️⃣ 更新状态：status='done', progress=100
  2️⃣ 检查关联：该作业是否关联"奖学金申请"？
  3️⃣ 智能反馈：
     "🎉 高数作业已完成！
      💡 小提示：国家奖学金要求'无 pending 作业'，
         你当前还有2项待完成，加油~"

🔧 提示词实现：
## 状态联动规则
当任务状态变为'done'时：
• 检查该任务是否关联其他目标（如奖学金/毕业要求）
• 若关联：计算完成度变化，给出鼓励/提醒
• 示例逻辑：
  IF task.course IN ('高数','英语') AND user.申请奖学金='是'
  THEN 提示："完成此项有助于奖学金申请✅"

## 智能提醒策略
• 截止前24h：自动推送"⏰ 高数作业明天截止，记得提交~"
• 逾期检测：每日扫描status='pending' AND deadline<today
  → 标记为overdue，并提醒用户
• 进度激励：当progress从50%→100%，给予正向反馈

⚠️ 隐私保护：
• 提醒仅通过用户当前对话通道发送
• 不存储/分享用户的任务明细给第三方
```

#### ✨ 技巧4：批量操作与聚合查询
```
🎯 场景：用户需要概览或批量管理
Q: "我这周有哪些待办？"
Q: "把所有英语作业标为高优先级"

✅ 理想输出：
【本周待办】2026.02.21-02.27
┌──────┬────────────┬──────────┬─────────┐
│ 截止  │ 任务        │ 课程      │ 优先级  │
├──────┼────────────┼──────────┼─────────┤
│ 02-23│ 英语作文    │ 大学英语  │ 🔴 高   │
│ 02-25│ 实验报告    │ 大学物理  │ 🟡 中   │
│ 02-27│ 小组展示PPT │ 计算机基础│ 🟡 中   │
└──────┴────────────┴──────────┴─────────┘
💡 建议：优先完成🔴高优先级任务~

🔧 提示词增强：
## 聚合查询支持
• 时间范围：支持"今天/本周/本月/自定义"
• 状态过滤：pending/done/overdue/全部
• 分组展示：按课程/优先级/截止日分组
• 统计摘要：显示"共5项，3项高优先级"

## 批量更新语法
支持自然语言批量操作：
"把所有数学作业优先级改为高"
→ 解析：course LIKE '%数学%' AND task_type='作业'
→ 执行：UPDATE ... SET priority='高' WHERE ...
→ 确认："✅ 已更新3条数学作业为高优先级"

💡 安全机制：
• 批量操作前显示影响条数："将修改3条记录，确认？"
• 支持"撤销"指令（保留最近一次操作日志）
```

### 🔹 测试与调试：核心功能验证

#### 🧪 测试用例设计（8个关键场景）
```
【写入操作】
1. Q: "帮我记一下：3月10日交奖学金申请表"
   ✅ 预期：新增记录，title="奖学金申请表", deadline="2026-03-10"
   ✅ 检查：user_id正确填充，status="pending"

2. Q: "提醒我下周三下午3点小组讨论"
   ✅ 预期：解析"下周三"为具体日期，time字段存"15:00"
   ✅ 检查：相对时间转换准确

【查询操作】
3. Q: "我有哪些待办的作业？"
   ✅ 预期：返回status='pending' AND task_type='作业'的记录
   ✅ 检查：按deadline升序排列

4. Q: "显示所有已完成的申请"
   ✅ 预期：返回status='done' AND task_type='申请'的记录
   ✅ 检查：不泄露其他用户的完成记录

【更新操作】
5. Q: "英语作文写完了"
   ✅ 预期：匹配title含"英语作文"的记录，更新status='done'
   ✅ 检查：模糊匹配准确，不误更新其他任务

6. Q: "把高数作业延期到周五"
   ✅ 预期：更新deadline，并确认新日期
   ✅ 检查：时间解析正确（本周五/下周五澄清）

【边界与异常】
7. Q: "删除所有任务" 
   ✅ 预期：二次确认"确定删除X条记录？此操作不可恢复"
   ✅ 检查：用户未确认时不执行删除

8. Q: "查一下张三的作业"（跨用户查询）
   ✅ 预期：拒绝并说明"我只能查询您本人的任务哦~"
   ✅ 检查：用户隔离机制生效
```

#### 🔧 调试技巧：当操作不准确时
```
🔍 问题诊断流程：

1️⃣ 检查意图识别：
   • 用户说"记一下"是否被正确分类为INSERT？
   • 提示词中trigger words是否覆盖口语表达？

2️⃣ 检查参数提取：
   • 时间解析：相对时间→绝对日期是否准确？
   • 模糊匹配：title/course的LIKE查询是否过宽/过窄？

3️⃣ 检查权限配置：
   • 数据库是否启用user_id隐式过滤？
   • 智能体是否有写入/更新权限？

🛠️ 优化方案：

方案A：增强槽位提取
   • 在提示词中添加few-shot示例：
     ```
     用户："周五交高数"
     → 提取：{title: "高数作业", deadline: "2026-03-05", course: "高等数学"}
     ```

方案B：添加操作确认层
   • 对关键操作（删除/批量更新）强制二次确认
   • 示例："即将删除'英语作文'任务，确认？[✅确认] [❌取消]"

方案C：日志追踪（高级）
   • 开启数据库操作日志
   • 记录：用户ID、操作类型、影响行数、时间戳
   • 便于排查"为什么没记上"等问题
```

> 💡 **交互设计原则**：数据库操作是"高 stakes"行为（影响用户数据），务必遵循"明确意图→提取参数→二次确认→反馈结果"的四步流程，避免误操作[[26]]。

---

## 📅 17:00-18:00｜模块整合与实战

### 🔹 学习目标
- 掌握"公共知识库+个人数据库"的联动架构
- 实现"查奖学金→记申请进度"的端到端场景
- 学会设计跨模块的数据流转与状态同步
- 输出可复用的模块整合最佳实践

### 🔹 联动架构设计：奖学金申请管家

#### 🔄 数据流转示意图
```
用户提问："我能申请什么奖学金？现在进度如何？"
                    │
        ┌───────────┴───────────┐
        ▼                       ▼
[表格知识库]           [个人数据库]
奖学金名录2025        user_learning_progress
• 查询匹配条件        • 查询申请相关任务
• 返回可申列表        • 返回申请进度
        │                       │
        └───────────┬───────────┘
                    ▼
        [智能体整合输出]
        ✅ 可申请的奖学金（来自知识库）
        📋 你的申请进度（来自数据库）
        💡 下一步建议（融合分析）
```

#### 📋 整合提示词关键模块
```markdown
## 跨模块查询指令
当用户同时询问"奖学金政策"和"我的申请"时：

1️⃣ 并行查询：
   • 知识库：SELECT * FROM 奖学金表 WHERE 申请条件匹配用户画像
   • 数据库：SELECT * FROM user_learning_progress 
            WHERE task_type='申请' AND title LIKE '%奖学金%'

2️⃣ 结果融合：
   • 对每个可申奖学金，检查是否有对应申请记录
   • 状态映射：
     - 无记录 → "📝 未开始申请"
     - status='pending' → "⏳ 申请中（已提交材料）"
     - status='done' → "✅ 已提交，等待结果"
     - deadline<today AND status!='done' → "⚠️ 已逾期，建议联系辅导员"

3️⃣ 个性化建议：
   • 若用户GPA接近但未达某奖学金要求：
     "💡 国家奖学金要求GPA≥3.8，你当前3.7，
        建议：① 本学期冲刺高分 ② 先申请校级一等奖"
   • 若申请截止临近：
     "🔥 企业冠名奖3天后截止，你还未开始申请，
        立即准备：成绩单+推荐信+申请表（模板链接）"
```

### 🔹 实战演练：构建"奖学金申请进度跟踪"

#### 步骤1️⃣：场景拆解与数据准备（15分钟）
```
🎯 用户故事：
"我想申请奖学金，但不确定能申哪些，也不知道自己准备到哪一步了"

📦 所需数据：
┌─────────────────────────────────────┐
│ 公共数据（表格知识库）：            │
│ • 奖学金名称、金额、申请条件        │
│ • 申请截止时间、材料清单、入口链接  │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│ 个人数据（数据库）：                │
│ • 用户GPA、年级、专业（用户画像）   │
│ • 申请任务记录：title/deadline/status│
│ • 材料准备进度：progress字段        │
└─────────────────────────────────────┘

🔧 数据关联设计：
• 在数据库中添加"关联奖学金"字段：
  related_scholarship: "国家奖学金"（外键思想）
• 或在提示词中通过title模糊匹配：
  IF task.title CONTAINS "国家奖学金" → 关联知识库记录
```

#### 步骤2️⃣：提示词整合与测试（25分钟）
```
🧪 测试问题设计：

【场景1：首次查询】
Q: "我能申请什么奖学金？"
✅ 预期输出：
"同学你好！根据你的GPA 3.6和大二身份，推荐以下奖学金👇

🏆 可申请的奖学金：
1️⃣ 校级一等奖（5000元）
   • 条件：GPA≥3.5 ✅ 你符合
   • 截止：10月15日
   • 📝 申请状态：未开始

2️⃣ 企业冠名奖（3000元）
   • 条件：GPA≥3.0 ✅ + 专业前30% ⚠️ 需确认
   • 截止：9月30日 🔥 仅剩9天
   • 📝 申请状态：未开始

💡 建议：优先准备企业冠名奖，材料清单👉 [链接]"

【场景2：进度跟踪】
Q: "我的奖学金申请到哪一步了？"
✅ 预期输出：
"📋 你的奖学金申请进度：

✅ 校级一等奖
   • 状态：材料已提交（9月20日）
   • 下一步：等待院系审核（预计10月5日出结果）

⏳ 企业冠名奖
   • 状态：准备中（进度60%）
   • 待完成：① 找导师写推荐信 ② 打印成绩单
   • ⏰ 截止：9月30日（建议本周内提交）

💡 小技巧：推荐信模板👉 [链接]，需要我帮你生成草稿吗？"

【场景3：联动推荐】
Q: "申请完校级一等奖，还能申其他的吗？"
✅ 预期输出：
"✅ 可以申请！我校允许同一学年申请多项奖学金（但最终通常只发放1项主要奖项）

🔄 推荐策略：
• 若校级一等奖通过 → 可放弃其他，专注学业
• 若未通过 → 自动递补申请励志奖学金（你符合经济困难条件）

📌 操作建议：
1️⃣ 先确保校级一等奖材料完整
2️⃣ 同步准备励志奖学金备用材料
3️⃣ 我帮你记录两个申请的进度，随时查询~"

🔧 调试要点：
• 检查知识库与数据库查询是否并行执行（非串行，提升响应速度）
• 验证用户隔离：A用户不能看到B用户的申请进度
• 测试边界：当知识库无匹配时，是否优雅降级（"暂未找到匹配奖学金，建议咨询辅导员"）
```

#### 步骤3️⃣：进阶功能拓展（20分钟）
```
✨ 增值功能设计：

【功能1：智能材料清单】
• 当用户开始申请某奖学金时：
  → 自动从知识库提取"材料清单"字段
  → 在数据库中创建子任务：
    INSERT INTO tasks (title, parent_task, status) 
    VALUES ("准备成绩单", "国家奖学金申请", "pending")
  → 用户可逐项打勾完成

【功能2：截止预警联动】
• 每日定时任务（需工作流支持，第三天内容）：
  → 扫描数据库中deadline<3天的pending任务
  → 若关联奖学金申请 → 推送强提醒：
     "🔥 企业冠名奖3天后截止！你还有2项材料未准备"

【功能3：申请成功率预估】
• 融合多维度数据：
  IF 用户.GPA ≥ 奖学金.GPA最低 
     AND 用户.志愿服务 ≥ 要求
     AND 历史记录.类似申请.通过率 > 50%
  THEN 返回"✅ 匹配度高，建议立即申请"
  ELSE 返回"⚠️ 部分条件待提升，可先准备材料"

💡 实现建议：
• 先用提示词规则引擎实现基础版
• 后续可接入学校历史数据训练预测模型（高级）
```

### 🔹 模块整合最佳实践总结

```
✅ 架构设计原则：
• 职责分离：知识库管"公共政策"，数据库管"个人进度"
• 数据最小化：仅存储必要字段，敏感信息（如家庭收入）不入库
• 接口清晰：通过title/ID关联，避免硬编码耦合

✅ 提示词设计技巧：
• 明确数据源：回答时标注"根据奖学金数据库2025版"/"根据你的个人记录"
• 优雅降级：当某模块无数据时，不报错，而是引导补充信息
• 用户控制：提供"清除我的申请记录"等数据自主权选项

✅ 测试验证要点：
• 联动测试：修改知识库奖学金条件 → 检查推荐结果是否更新
• 隔离测试：双账号登录 → 验证数据不交叉
• 压力测试：单用户100+任务 → 检查查询响应时间

📌 交付成果：
□ 1个整合提示词（支持知识库+数据库联动查询）
□ 1份测试报告（含3个联动场景的输入输出）
□ 1页架构设计图（手绘/工具绘制均可）
□ 个人心得：模块整合的1个关键洞察
```

---

## 📋 第二天培训成果总览

```
✅ 全天能力达成：
□ 上午：掌握表格知识库，实现奖学金精准查询与对比
□ 下午：掌握个人数据库，实现任务记录与进度跟踪
□ 整合：构建"查政策+记进度"的个性化奖学金管家

📊 项目交付物：
┌─────────────────────────────────────┐
│ 🤖 智能体：智慧校园助手（增强版）   │
│ ├─ 人设提示词：校园百事通+学习管家  │
│ ├─ 知识库：                         │
│ │  • 学生手册（文本）               │
│ │  • 校园地图（图片）               │
│ │  • 奖学金名录（表格）             │
│ ├─ 数据库：                         │
│ │  • user_learning_progress表       │
│ └─ 核心功能：                       │
│   • 校园问答（文本/图片检索）       │
│   • 奖学金查询与对比（表格筛选）    │
│   • 任务记录与提醒（个人数据库）    │
│   • 申请进度跟踪（模块联动）        │
└─────────────────────────────────────┘

🎯 第三天预告：
【插件集成与工作流编排】
上午：
• 插件系统：调用外部API（天气/地图/教务系统）
• 预置插件：搜索/计算器/代码执行器实战
• 自定义插件：对接学校现有系统（如教务API）

下午：
• 工作流（Workflow）：多步骤任务编排
• 实战：构建"请假申请"自动化流程
  （学生提交→辅导员审批→系统备案→结果通知）
• 发布部署：嵌入微信公众号/学校官网/APP

💡 预习建议：
• 了解学校是否有开放API文档
• 思考：哪些重复性校园事务适合自动化？
  （如：空教室查询→实时调用教务系统）
```

---

## 📚 附：培训资源与延伸学习

```
📂 当日提供材料：
1. 《Coze数据库操作手册.pdf》
2. 《个性化存储设计模式.md》
3. 《奖学金联动场景示例.json》
4. 《测试用例模板（数据库版）.xlsx》

🔗 技术参考：
• Coze数据库文档：https://www.coze.cn/docs/database
• 用户隔离最佳实践：https://www.coze.cn/guide/security
• 社区案例：#个性化助手 标签下的奖学金管家项目

💬 持续支持：
• 实操答疑：培训群内@助教（工作日9:00-18:00）
• 代码Review：提交GitHub链接获取优化建议
• 项目孵化：优秀作品可推荐至学校信息化中心落地

🎓 讲师寄语：
今天你完成了从"通用问答"到"个性化服务"的关键跨越。
记住：最好的AI助手不是"知道最多"，而是"最懂你"。
保持对用户需求的敏感，用技术传递温度，
期待看到你打造的智慧校园助手真正服务师生！✨
```

> 🔐 **安全与合规提醒**：涉及学生个人数据时，务必遵守《个人信息保护法》和学校数据管理规定。建议：① 最小化收集 ② 明确告知用途 ③ 提供删除入口 ④ 定期安全审计[[27]]。